
<app-page-header title="Analytics" title1="Dashboards" activeTitle="Analytics" ></app-page-header>

 <!-- Start:: row-1 -->
 <div class="row">
    <div class="col-xxl-4">
        <div class="row">
            <div class="col-xl-12">
                <div class="card custom-card main-dashboard-banner main-dashboard-banner2 overflow-hidden shadow-none">
                    <div class="card-body p-4">
                        <div class="row justify-content-between">
                            <div class="col-xxl-8 col-lg-7">
                                <h4 class="mb-3 fw-medium text-fixed-white">Upgrade to get more</h4>
                                <p class="mb-3 text-fixed-white">Upgrade Now for Premium Access and Unlock Exclusive Features!</p>
                                <a href="javascript:void(0);" class="fw-medium text-fixed-white text-decoration-underline">Upgrade Now<i class="ti ti-arrow-narrow-right"></i></a>
                            </div>
                            <div class="col-xxl-4 col-xl-7 col-lg-7 col-md-7 col-sm-7 d-sm-block d-none text-end my-auto">
                                <img src="./assets/images/media/media-79.png" alt="" class="img-fluid">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                @for (card of cards; track $index) {
                    <div class="col-xl-6">
                <spk-analytics-card
                  [title]="card.title"
                  [value]="card.value"
                  [percentageChange]="card.percentageChange"
                  [changeDirection]="card.changeDirection"
                  [chartOptions]="card.chartOptions"
                  [iconClass]="card.iconClass"
                  [avatarBgClass]="card.avatarBgClass">
                </spk-analytics-card>
                </div>
            }
        </div>
    </div>
    <div class="col-xxl-5">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Visitor Analytics
                </div>
                <div>
                    <button type="button" class="btn btn-primary-light btn-sm"><i class="ri-share-forward-line me-1 align-middle d-inline-block"></i>Export</button>
                </div>
            </div>
            <div class="card-body pb-0">
                <div id="audienceMetric">
                    <spk-apexcharts [chartOptions]="chartOptions5"></spk-apexcharts>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-3">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Users By Countries
                </div>
                <div class="">
                    <a href="javascript:void(0);" class="btn btn-light btn-sm text-muted">
                        View All
                    </a>
                </div>
            </div>
            <div class="card-body">
                <ul class="list-unstyled mb-0 analytics-visitors-countries">
                    @for (country of countries; track $index) {
                    <li>
                      <div class="d-flex align-items-center gap-2">
                        <div class="lh-1">
                          <span class="avatar avatar-xs avatar-rounded text-default">
                            <img [src]="country.flag" alt="{{ country.country }}">
                          </span>
                        </div>
                        <div class="ms-1 flex-fill lh-1">
                          <span class="fs-14">{{ country.country }}</span>
                        </div>
                        <div [class.text-success]="country.trend === 'up'" [class.text-danger]="country.trend === 'down'">
                          {{ country.percentage }}
                          <i [class]="country.trend === 'up' ? 'ti ti-arrow-narrow-up' : 'ti ti-arrow-narrow-down'"></i>
                        </div>
                        <div class="ms-1">
                          <span class="text-default badge bg-light fw-medium">{{ country.visits }}</span>
                        </div>
                      </div>
                    </li>
                }
                  </ul>
                  
            </div>
         </div>
    </div>
</div>
<!-- End:: row-1 -->

<!-- Start::row-3 -->
<div class="row">
    <div class="col-xxl-3">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
               <div class="card-title">
                Sales Growth Rate
               </div>
               <spk-dropdowns [Customclass]="'dropdown'" [Icon]="true" [IconClass]="'fe fe-more-vertical'"
               [class]="'btn btn-light btn-icons btn-sm text-muted no-caret'" [Menuclass]="'dropdown-menu-end'">
                       <li class="border-bottom"><a class="dropdown-item" href="javascript:void(0);">Today</a></li>
                       <li class="border-bottom"><a class="dropdown-item" href="javascript:void(0);">This Week</a></li>
                       <li><a class="dropdown-item" href="javascript:void(0);">Last Week</a></li>
               </spk-dropdowns>
           </div>
           <div class="card-body pb-0">
                <div class="d-flex align-items-center p-3 bg-light rounded">
                    <div>
                        <p class="mb-1 fs-13">Comparison: 2024 vs. 2023</p>
                        <div class="d-flex align-items-center gap-3">
                            <h5 class="mb-0">20% </h5>
                            <div class="text-muted fs-12"><span class="text-success fs-12 me-1"> 2.62%<i class="ti ti-arrow-narrow-up fs-16"></i></span>This year</div>
                        </div>
                    </div>
                    <div class="ms-auto">
                        <div class="p-2 bg-primary-transparent rounded-circle">
                            <div class="avatar-md avatar bg-primary svg-white avatar-rounded shadow-sm">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M232,208a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V48a8,8,0,0,1,16,0V156.69l50.34-50.35a8,8,0,0,1,11.32,0L128,132.69,180.69,80H160a8,8,0,0,1,0-16h40a8,8,0,0,1,8,8v40a8,8,0,0,1-16,0V91.31l-58.34,58.35a8,8,0,0,1-11.32,0L96,123.31l-56,56V200H224A8,8,0,0,1,232,208Z"></path></svg>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="sales-growth" class="mt-1">
                    <spk-apexcharts [chartOptions]="chartOptions6"></spk-apexcharts>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xxl-4">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
            <h5 class="card-title">Top Landing Pages</h5>
            <a href="javascript:void(0);" class="btn btn-light btn-wave btn-sm text-muted waves-effect waves-light">View All</a>
            </div>
            <div class="card-body">
                <ul class="list-unstyled top-landing-pages-list">
                    @for (page of landingPages; track $index) {
                    <li>
                      <div class="d-flex mb-1">
                        <span>{{ page.path }}</span>
                        <span class="ms-auto fs-14 fw-semibold">{{ page.visits }} Visits</span>
                      </div>
                      <div class="progress progress-sm">
                        <div 
                          class="progress-bar progress-bar-striped progress-bar-animated" 
                          [class]="page.progressColor"
                          role="progressbar"
                          [style.width]="page.progress + '%'"
                          [attr.aria-valuenow]="page.progress"
                          aria-valuemin="0"
                          aria-valuemax="100">
                        </div>
                      </div>
                    </li>
                }
                  </ul>
            </div>
        </div>
    </div>
    <div class="col-xxl-5">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Site Referrals
                </div>
                <a href="javascript:void(0);" class="btn btn-light btn-wave btn-sm text-muted waves-effect waves-light">View All</a>
            </div>
            <div class="card-body d-sm-flex align-items-center">
                <div class="table-responsive flex-fill">
                    <spk-reusable-tables [columns]="tableHeader" tableClass="table text-nowrap table-bordered me-1"  [showCheckbox]="false">
                        @for (row of data; track $index) {
                            <tr >
                              <td>{{ row.source }}</td>
                              <td class="text-center fw-medium">{{ row.visits }}</td>
                              <td  class="text-{{row.textColor}}">
                                +{{ row.change }}%
                              </td>
                            </tr>
                        }
                    </spk-reusable-tables>
                </div>
                <div id="referrals-chart" class="p-3 flex-shrink-0 px-0">
                    <spk-apexcharts [chartOptions]="chartOptions7"></spk-apexcharts>
                </div>
            </div>
        </div>
    </div>
</div>
 <!--End::row-3 -->

<!-- Start::row-4 -->
<div class="row">
    <div class="col-xl-9">
        <div class="card custom-card">
            <div class="card-header justify-content-between">
                <div class="card-title">
                    Visitors Statistics
                </div>
                <div class="d-flex flex-wrap gap-2">
                    <div> 
                        <input class="form-control form-control-sm" type="text" placeholder="Search Here" aria-label=".form-control-sm example"> 
                    </div>
                    <spk-dropdowns [Customclass]="'dropdown border-0'" [Icon]="true" [title]="'Sort By'" [IconClass]="'ri-arrow-down-s-line align-middle ms-1 d-inline-block'"
                    [class]="'btn btn-primary btn-sm no-caret'" [Menuclass]="'dropdown-menu'">
                            <li><a class="dropdown-item" href="javascript:void(0);">New</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Popular</a></li>
                            <li><a class="dropdown-item" href="javascript:void(0);">Relevant</a></li>
                    </spk-dropdowns>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <spk-reusable-tables [columns]="visitorsHeader"  tableClass="table table-hover text-nowrap table-bordered"  [showCheckbox]="false">
                            @for (row of visitorsdata; track $index) {
                            <tr>
                              <td>{{ row.value1 }}</td>
                              <td>{{ row.time1 }}</td>
                              <td>{{ row.value2 }}</td>
                              <td>{{ row.value3 }}</td>
                              <td>{{ row.percent1 }}</td>
                              <td>{{ row.percent2 }}</td>
                              <td>{{ row.time2 }}</td>
                              <td>{{ row.sources }}</td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
            <div class="card-footer">
                <div class="d-flex align-items-center">
                    <div>
                        Showing 6 Entries <i class="bi bi-arrow-right ms-2 fw-medium"></i>
                    </div>
                    <div class="ms-auto">
                        <nav aria-label="Page navigation" class="pagination-style-4">
                            <ul class="pagination mb-0">
                                <li class="page-item disabled">
                                    <a class="page-link" href="javascript:void(0);">
                                        Prev
                                    </a>
                                </li>
                                <li class="page-item active"><a class="page-link" href="javascript:void(0);">1</a></li>
                                <li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li>
                                <li class="page-item">
                                    <a class="page-link text-primary" href="javascript:void(0);">
                                        next
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3">
        <div class="card custom-card">
            <div class="card-header justify-content-between flex-wrap">
                <div class="card-title">
                    Activity
                </div>
                <spk-dropdowns [Customclass]="'dropdown'" [Icon]="true" [IconClass]="'fe fe-more-vertical'"
                            [class]="'btn btn-light btn-icons btn-sm text-muted no-caret'" [Menuclass]="'dropdown-menu-end'">
                        <li class="border-bottom"><a class="dropdown-item" href="javascript:void(0);">Today</a></li>
                        <li class="border-bottom"><a class="dropdown-item" href="javascript:void(0);">This Week</a></li>
                        <li><a class="dropdown-item" href="javascript:void(0);">Last Week</a></li>
                </spk-dropdowns>
            </div>
            <div class="card-body pb-0">
                <div class="analytics-timeline">
                    <ul class="list-unstyled analytics-activity mb-0">
                        @for (item of analyticsData; track $index) {
                        <li>
                          <div class="d-flex align-items-center gap-2">
                            <div>
                              <span [ngClass]="'avatar avatar-md avatar-rounded ' + item.iconBg">
                                <i [ngClass]="item.iconClass"></i>
                              </span>
                            </div>
                            <div class="flex-fill">
                              <span class="d-block fw-medium">{{ item.title }}</span>
                              <span class="fs-13 text-muted">
                                {{ item.changeDirection }} by <span [ngClass]="item.changeClass">{{ item.changeValue }} <i [ngClass]="item.changeIconClass"></i></span>
                              </span>
                            </div>
                            <div>
                              <span class="d-block fs-15 mb-0 fw-medium">{{ item.value }}</span>
                            </div>
                          </div>
                        </li>
                    }
                      </ul>
                      
                </div>
            </div>
        </div>
    </div>
</div>
<!--End::row-4 -->

