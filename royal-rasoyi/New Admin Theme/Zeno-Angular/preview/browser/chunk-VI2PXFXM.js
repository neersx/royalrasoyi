import{a as _,b as ue,c as k,d as ge,e as pe,f as F,g as N,h as he}from"./chunk-YP5UTTMU.js";import"./chunk-FOAODQKP.js";import"./chunk-JOQKUBO6.js";import{b as ce}from"./chunk-MYVJRBPS.js";import"./chunk-ZP3QAILQ.js";import"./chunk-KEFF6A6H.js";import{$ as ne,A as ee,Aa as de,B as te,C as ie,aa as re,ba as ae,ca as oe,da as se,e as H,fa as le,g as M,ga as me,j as J,k as K,q as Q,u as X,v as Y,y as $}from"./chunk-IWIKM7QT.js";import{f as q,k as I,l as G,o as Z}from"./chunk-3SGW3PUB.js";import{Cb as s,Fc as S,Ha as g,Hb as U,Hc as m,Ia as p,Ib as d,Nd as B,Rb as R,Ta as P,Tc as D,Uc as o,Wc as w,Xa as j,Xb as v,Yc as T,Zc as W,_c as O,cd as z,gc as c,ic as A,lc as b,oc as x,qa as y,tc as t,uc as i,va as C,vc as l,zc as E}from"./chunk-6HZOIT4N.js";import"./chunk-2EBTC7QX.js";import"./chunk-66YHNWRR.js";var L=(()=>{class r{constructor(){k.initializeApp(he.firebase)}getFirestore(){return F}getDatabase(){return N}getAuth(){return pe}static \u0275fac=function(a){return new(a||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var ve=(()=>{class r{afu;router;ngZone;authState;afAuth;afs;showLoader=!1;constructor(e,a,n){this.afu=e,this.router=a,this.ngZone=n,this.afu.authState.subscribe(u=>{this.authState=u})}get isUserAnonymousLoggedIn(){return this.authState!==null?this.authState.isAnonymous:!1}get currentUserId(){return this.authState!==null?this.authState.uid:""}get currentUserName(){return this.authState.email}get currentUser(){return this.authState!==null?this.authState:null}get isUserEmailLoggedIn(){return this.authState!==null&&!this.isUserAnonymousLoggedIn}registerWithEmail(e,a){return this.afu.createUserWithEmailAndPassword(e,a).then(n=>{this.authState=n}).catch(n=>{throw console.log(n),n})}loginWithEmail(e,a){return this.afu.signInWithEmailAndPassword(e,a).then(n=>{this.authState=n}).catch(n=>{throw console.log(n),n})}singout(){this.afu.signOut(),this.router.navigate(["/login"])}SignUp(e,a){return this.afAuth.createUserWithEmailAndPassword(e,a).then(n=>{this.SendVerificationMail(),this.SetUserData(n.user)}).catch(n=>{window.alert(n.message)})}SendVerificationMail(){return this.afAuth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this.router.navigate(["/dashboard/sales"])})}SetUserData(e){let a=this.afs.doc(`users/${e.uid}`),n={email:e.email,displayName:e.displayName,uid:e.uid,photoURL:e.photoURL||"src/favicon.ico",emailVerified:e.emailVerified};return a.delete().then(function(){}).catch(function(u){}),a.set(n,{merge:!0})}SignIn(e,a){return this.afAuth.signInWithEmailAndPassword(e,a).then(n=>{n.user.emailVerified!==!0?(this.SetUserData(n.user),this.SendVerificationMail(),this.showLoader=!0):(this.showLoader=!1,this.ngZone.run(()=>{this.router.navigate(["/auth/login"])}))}).catch(n=>{throw n})}ForgotPassword(e){return this.afAuth.sendPasswordResetEmail(e).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(a=>{window.alert(a)})}static \u0275fac=function(a){return new(a||r)(C(ge),C(I),C(P))};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ce(r,h){if(r&1&&(t(0,"p",19),o(1),i()),r&2){let e=m(2);s(),w(" ",e.errorMessage,"")}}function Ee(r,h){if(r&1&&(t(0,"p",19),o(1),i()),r&2){let e=m(2);s(),w(" ",e._error.message," ")}}function Ie(r,h){if(r&1){let e=E();t(0,"div",12)(1,"div",13)(2,"div",14)(3,"a",15),l(4,"img",16)(5,"img",17),i()(),t(6,"form",18),S("ngSubmit",function(){g(e);let n=m();return p(n.login())}),v(7,Ce,2,1,"p",19)(8,Ee,2,1,"p",19),t(9,"p",20),o(10,"Sign In"),i(),t(11,"p",21),o(12,"Welcome back Henry !"),i(),t(13,"div",22)(14,"div",23)(15,"label",24),o(16,"User Name"),t(17,"sup",25),o(18,"*"),i()(),l(19,"input",26),i(),t(20,"div",27)(21,"label",28),o(22,"Password"),t(23,"sup",25),o(24,"*"),i(),t(25,"a",29),o(26,"Forget password ?"),i()(),t(27,"div",30),l(28,"input",31),t(29,"a",32),S("click",function(){g(e);let n=m();return p(n.togglePassword())}),l(30,"i"),i()(),t(31,"div",33)(32,"div",34),l(33,"input",35),t(34,"label",36),o(35," Remember password ? "),i()()()()(),t(36,"div",37)(37,"button",38),o(38,"Sign In"),i()(),t(39,"div",39)(40,"p",40),o(41,"Dont have an account? "),t(42,"a",41),o(43,"Sign Up"),i()()(),t(44,"div",42)(45,"button",43),l(46,"i",44),i(),t(47,"button",45),l(48,"i",46),i(),t(49,"button",47),l(50,"i",48),i()()()()()}if(r&2){let e=m();s(6),c("formGroup",e.loginForm),s(),x(e.errorMessage.length>0?7:-1),s(),x(e._error.message.length>0?8:-1),s(11),c("ngModel",e.email),s(9),c("type",e.showPassword?"text":"password")("ngModel",e.password),s(2),b("ri-eye-",e.toggleClass," align-middle"),s(7),b("btn btn-primary",e.disabled,""),A("loader--text",e.authservice.showLoader),c("disabled",!e.loginForm.valid||e.authservice.showLoader)}}function Me(r,h){if(r&1&&(t(0,"p",19),o(1),i()),r&2){let e=m(2);s(),w(" ",e.errorMessage,"")}}function ke(r,h){if(r&1&&(t(0,"p",19),o(1),i()),r&2){let e=m(2);s(),w(" ",e._error.message," ")}}function Fe(r,h){if(r&1){let e=E();t(0,"div",12)(1,"div",13)(2,"div",14)(3,"a",15),l(4,"img",16)(5,"img",17),i()(),t(6,"form",18),S("ngSubmit",function(){g(e);let n=m();return p(n.Submit())}),v(7,Me,2,1,"p",19)(8,ke,2,1,"p",19),t(9,"p",20),o(10,"Sign In"),i(),t(11,"p",21),o(12,"Welcome back Henry !"),i(),t(13,"div",22)(14,"div",23)(15,"label",24),o(16,"User Name"),t(17,"sup",25),o(18,"*"),i()(),l(19,"input",26),i(),t(20,"div",27)(21,"label",28),o(22,"Password"),t(23,"sup",25),o(24,"*"),i(),t(25,"a",29),o(26,"Forget password ?"),i()(),t(27,"div",30),l(28,"input",31),t(29,"a",32),S("click",function(){g(e);let n=m();return p(n.togglePassword())}),l(30,"i"),i()(),t(31,"div",33)(32,"div",34),l(33,"input",35),t(34,"label",36),o(35," Remember password ? "),i()()()()(),t(36,"div",37)(37,"button",38),o(38,"Sign In"),i()(),t(39,"div",39)(40,"p",40),o(41,"Dont have an account? "),t(42,"a",41),o(43,"Sign Up"),i()()(),t(44,"div",42)(45,"button",43),l(46,"i",44),i(),t(47,"button",45),l(48,"i",46),i(),t(49,"button",47),l(50,"i",48),i()()()()()}if(r&2){let e=m();s(6),c("formGroup",e.loginForm),s(),x(e.errorMessage.length>0?7:-1),s(),x(e._error.message.length>0?8:-1),s(11),c("ngModel",e.email),s(9),c("type",e.showPassword?"text":"password")("ngModel",e.password),s(2),b("ri-eye-",e.toggleClass," align-middle"),s(7),b("btn btn-primary",e.disabled,""),A("loader--text",e.authservice.showLoader),c("disabled",!e.loginForm.valid||e.authservice.showLoader)}}var Xe=(()=>{class r{document;elementRef;sanitizer;authservice;router;formBuilder;renderer;firebaseService;toastr;showPassword=!1;toggleClass="off-line";active="Angular";firestoreModule;databaseModule;authModule;togglePassword(){this.showPassword=!this.showPassword,this.toggleClass==="line"?this.toggleClass="off-line":this.toggleClass="line"}disabled="";constructor(e,a,n,u,V,f,be,xe,Se){this.document=e,this.elementRef=a,this.sanitizer=n,this.authservice=u,this.router=V,this.formBuilder=f,this.renderer=be,this.firebaseService=xe,this.toastr=Se,e.body.classList.add("authentication-background");let Ne=this.renderer.selectRootElement("body",!0)}ngOnDestroy(){document.body.classList.remove("authentication-background")}ngOnInit(){this.loginForm=this.formBuilder.group({username:["spruko@admin.com",[M.required,M.email]],password:["sprukoadmin",M.required]}),this.firestoreModule=this.firebaseService.getFirestore(),this.databaseModule=this.firebaseService.getDatabase(),this.authModule=this.firebaseService.getAuth()}email="spruko@admin.com";password="sprukoadmin";errorMessage="";_error={name:"",message:""};clearErrorMessage(){this.errorMessage="",this._error={name:"",message:""}}login(){this.clearErrorMessage(),this.validateForm(this.email,this.password)?this.authservice.loginWithEmail(this.email,this.password).then(()=>{this.router.navigate(["/dashboards/sales"]),console.clear(),this.toastr.success("login successful","zeno",{timeOut:3e3,positionClass:"toast-top-right"})}).catch(e=>{this._error=e,this.router.navigate(["/"])}):this.toastr.error("Invalid details","zeno",{timeOut:3e3,positionClass:"toast-top-right"})}validateForm(e,a){return e.length===0?(this.errorMessage="please enter email id",!1):a.length===0?(this.errorMessage="please enter password",!1):a.length<6?(this.errorMessage="password should be at least 6 char",!1):(this.errorMessage="",!0)}loginForm;error="";get form(){return this.loginForm.controls}Submit(){console.log(this.loginForm),this.loginForm.controls.username.value==="spruko@admin.com"&&this.loginForm.controls.password.value==="sprukoadmin"?(this.router.navigate(["/dashboards/sales"]),this.toastr.success("login successful","zeno",{timeOut:3e3,positionClass:"toast-top-right"})):this.toastr.error("Invalid details","zeno",{timeOut:3e3,positionClass:"toast-top-right"})}static \u0275fac=function(a){return new(a||r)(d(B),d(j),d(q),d(ve),d(I),d(ee),d(U),d(L),d(_))};static \u0275cmp=R({type:r,selectors:[["app-login"]],features:[z([L,{provide:_,useClass:_}])],decls:14,vars:2,consts:[["nav","ngbNav"],[1,"container","custom-tabs"],[1,"row","justify-content-center","align-items-center","authentication","authentication-basic","h-100"],[1,"col-xxl-5","col-xl-5","col-lg-5","col-md-8","col-sm-12","col-12"],["ngbNav","",1,"nav-tabs","rounded-2","justify-content-center","border-bottom-0",3,"activeIdChange","activeId"],["ngbNavItem","Firebase"],["ngbNavLink","",1,"firebase-img"],["src","./assets/images/firebase.svg","alt","",1,"firebase"],["ngbNavContent",""],["ngbNavItem","Angular"],["src","./assets/images/favicon.svg","alt","",1,"firebase"],[3,"ngbNavOutlet"],[1,"card","custom-card","my-4"],[1,"card-body","p-5"],[1,"mb-4","d-flex","justify-content-center"],["routerLink","/dashboards/sales"],["src","./assets/images/brand-logos/desktop-logo.png","alt","logo",1,"desktop-logo"],["src","./assets/images/brand-logos/desktop-white.png","alt","logo",1,"desktop-white"],[3,"ngSubmit","formGroup"],[1,"text-danger"],[1,"h5","mb-2","text-center"],[1,"mb-4","text-muted","op-7","fw-normal","text-center"],[1,"row","gy-3"],[1,"col-xl-12"],["for","signin-username",1,"form-label","text-default"],[1,"fs-12","text-danger"],["type","text","id","signin-username","placeholder","user name","autocomplete","","formControlName","username","required","",1,"form-control",3,"ngModel"],[1,"col-xl-12","mb-2"],["for","signin-password",1,"form-label","text-default","d-block"],["routerLink","/authentication/reset-password/basic",1,"float-end","fw-normal","text-primary"],[1,"position-relative"],["type","password","id","signin-password","autocomplete","","placeholder","password","autocomplete","","placeholder","Password","formControlName","password","required","",1,"form-control","create-password-input",3,"type","ngModel"],["href","javascript:void(0);","id","button-addon2",1,"show-password-button","text-muted",3,"click"],[1,"mt-2"],[1,"form-check"],["type","checkbox","value","","id","defaultCheck1",1,"form-check-input"],["for","defaultCheck1",1,"form-check-label","text-muted","fw-normal"],[1,"d-grid","mt-4"],["autofocus","",3,"disabled"],[1,"text-center"],[1,"text-muted","mt-3","mb-0"],["routerLink","/authentication/sign-up/basic",1,"text-primary"],[1,"btn-list","text-center","mt-3"],["type","button",1,"btn","btn-icon","btn-wave","btn-primary-light"],[1,"ri-facebook-line","lh-1","align-center","fs-17"],["type","button",1,"btn","btn-icon","btn-wave","btn-success-light"],[1,"ri-twitter-x-line","lh-1","align-center","fs-17"],["type","button",1,"btn","btn-icon","btn-wave","btn-info-light"],[1,"ri-instagram-line","lh-1","align-center","fs-17"]],template:function(a,n){if(a&1){let u=E();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"ul",4,0),O("activeIdChange",function(f){return g(u),W(n.active,f)||(n.active=f),p(f)}),t(5,"li",5)(6,"a",6),l(7,"img",7),i(),v(8,Ie,51,15,"ng-template",8),i(),t(9,"li",9)(10,"a",6),l(11,"img",10),i(),v(12,Fe,51,15,"ng-template",8),i()(),l(13,"div",11),i()()()}if(a&2){let u=D(4);s(3),T("activeId",n.active),s(10),c("ngbNavOutlet",u)}},dependencies:[Z,G,de,ne,oe,ae,re,le,se,me,te,Q,H,J,K,$,ie,X,Y,k,ce,N,F,ue],styles:[".firebase{width:30px;height:30px}  .nav-tabs{border-color:none!important}"]})}return r})();export{Xe as LoginComponent};
